import{_ as o,o as t,c as n,ag as s}from"./chunks/framework.CbQjVMS6.js";const u=JSON.parse('{"title":"Changelog","description":"","frontmatter":{},"headers":[],"relativePath":"reference/changelog.md","filePath":"reference/changelog.md"}'),r={name:"reference/changelog.md"};function a(i,e,d,c,l,g){return t(),n("div",null,[...e[0]||(e[0]=[s('<h1 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">​</a></h1><p>All notable changes to the Notur Extension Library are documented here.</p><h2 id="unreleased-phase-5-in-progress" tabindex="-1">[Unreleased] - Phase 5 (In Progress) <a class="header-anchor" href="#unreleased-phase-5-in-progress" aria-label="Permalink to &quot;[Unreleased] - Phase 5 (In Progress)&quot;">​</a></h2><h3 id="added" tabindex="-1">Added <a class="header-anchor" href="#added" aria-label="Permalink to &quot;Added&quot;">​</a></h3><ul><li><strong>E2E test suite</strong> -- Docker-based end-to-end testing with Pterodactyl Panel, MySQL, and the hello-world extension. Covers install, enable, routes, disable, and remove lifecycle. (<code>docker/e2e/</code>, <code>tests/E2E/</code>, <code>.github/workflows/e2e.yml</code>)</li><li><strong>Compatibility matrix testing</strong> -- CI now tests PHP 8.2/8.3 with both MySQL 8.0 and MariaDB 10.6, and frontend builds on Node 18, 20, and 22. Unit tests run separately from integration tests to enable proper DB-dependent testing.</li><li><strong>Documentation site</strong> -- Comprehensive documentation for administrators (<code>docs/ADMIN-GUIDE.md</code>), PHP API reference (<code>docs/API-REFERENCE.md</code>), frontend SDK reference (<code>docs/FRONTEND-SDK.md</code>), registry documentation (<code>docs/REGISTRY.md</code>), and this changelog.</li></ul><h3 id="not-yet-implemented" tabindex="-1">Not Yet Implemented <a class="header-anchor" href="#not-yet-implemented" aria-label="Permalink to &quot;Not Yet Implemented&quot;">​</a></h3><ul><li>Signature verification (Ed25519 on <code>.notur</code> archives)</li><li>Admin Blade UI (extension management page)</li><li>Theme extensions (full theme override support)</li></ul><hr><h2 id="phase-4-registry-distribution" tabindex="-1">Phase 4: Registry + Distribution <a class="header-anchor" href="#phase-4-registry-distribution" aria-label="Permalink to &quot;Phase 4: Registry + Distribution&quot;">​</a></h2><h3 id="added-1" tabindex="-1">Added <a class="header-anchor" href="#added-1" aria-label="Permalink to &quot;Added&quot;">​</a></h3><ul><li><strong><code>RegistryClient</code></strong> -- Fetch extension metadata from the GitHub-backed registry. Supports search by ID, name, description, and tags. Includes local caching with configurable TTL.</li><li><strong><code>notur:registry:sync</code> command</strong> -- Sync the remote registry index to a local cache. Supports <code>--search</code> for inline queries and <code>--force</code> to bypass cache TTL.</li><li><strong><code>.notur</code> archive format</strong> -- Extensions are packaged as gzipped tar archives with SHA-256 checksums and optional Ed25519 signatures.</li><li><strong><code>notur:export</code> command</strong> -- Package an extension directory into a <code>.notur</code> archive with checksum generation. Supports <code>--sign</code> for signature creation and <code>--output</code> for custom output paths.</li><li><strong>Registry index builder</strong> -- <code>registry/tools/build-index.php</code> generates <code>registry.json</code> from local directories or GitHub repositories.</li><li><strong>JSON schema validation</strong> -- Shipped schemas for <code>extension.yaml</code> manifests (<code>registry/schema/extension-manifest.schema.json</code>) and the registry index (<code>registry/schema/registry-index.schema.json</code>).</li></ul><hr><h2 id="phase-3-frontend-slots-sdk" tabindex="-1">Phase 3: Frontend Slots + SDK <a class="header-anchor" href="#phase-3-frontend-slots-sdk" aria-label="Permalink to &quot;Phase 3: Frontend Slots + SDK&quot;">​</a></h2><h3 id="added-2" tabindex="-1">Added <a class="header-anchor" href="#added-2" aria-label="Permalink to &quot;Added&quot;">​</a></h3><ul><li><strong>All slot renderers</strong> -- Nine predefined slots wired up: <code>navbar</code>, <code>server.subnav</code>, <code>server.page</code>, <code>server.terminal.buttons</code>, <code>server.files.actions</code>, <code>dashboard.widgets</code>, <code>dashboard.page</code>, <code>account.page</code>, <code>account.subnav</code>.</li><li><strong>Additional React patches</strong> -- <code>ServerRouter.tsx</code> for server subnav/page slots, terminal button and file manager toolbar slots.</li><li><strong>Bridge hooks</strong> -- <code>useSlot(slotId)</code> for reactive slot subscriptions, <code>useExtensionApi({ extensionId })</code> for scoped HTTP client with CSRF handling, <code>useExtensionState(extensionId, initialState)</code> for shared cross-component state.</li><li><strong>Theme system</strong> -- CSS custom property extraction from the live Pterodactyl DOM. Three-strategy approach: mapped <code>--ptero-*</code> variables, computed style probes on known elements, and stylesheet scanning. <code>ThemeProvider</code> wiring with 23 default CSS custom properties.</li><li><strong><code>notur:new</code> command</strong> -- Scaffold new extensions from templates. Generates <code>extension.yaml</code>, PHP entrypoint, route file, frontend entry, and webpack config.</li><li><strong>SDK webpack config</strong> -- Base webpack configuration for extension builds. Externalizes React/ReactDOM, configures TypeScript, outputs UMD bundles.</li><li><strong>SDK type exports</strong> -- Published <code>@notur/sdk</code> TypeScript types: <code>ExtensionConfig</code>, <code>SlotConfig</code>, <code>RouteConfig</code>, <code>ExtensionDefinition</code>, <code>NoturApi</code>.</li><li><strong>SDK hooks</strong> -- <code>useServerContext()</code>, <code>useUserContext()</code>, <code>usePermission()</code> for accessing Pterodactyl panel context from extension components.</li></ul><hr><h2 id="phase-2-cli-extension-lifecycle" tabindex="-1">Phase 2: CLI + Extension Lifecycle <a class="header-anchor" href="#phase-2-cli-extension-lifecycle" aria-label="Permalink to &quot;Phase 2: CLI + Extension Lifecycle&quot;">​</a></h2><h3 id="added-3" tabindex="-1">Added <a class="header-anchor" href="#added-3" aria-label="Permalink to &quot;Added&quot;">​</a></h3><ul><li><strong><code>notur:uninstall</code> command</strong> -- Complete framework removal: restores patched files, rolls back migrations, removes Blade injection, deletes directories, removes Composer package, triggers frontend rebuild.</li><li><strong>Reverse patches</strong> -- Shipped reverse <code>.patch</code> files for each React patch to enable clean uninstallation without relying on backup copies.</li><li><strong><code>notur:install</code> command</strong> -- Install extensions from the registry (by ID) or from local <code>.notur</code> archive files. Supports <code>--force</code> for reinstallation and <code>--no-migrate</code> to skip migrations.</li><li><strong><code>notur:remove</code> command</strong> -- Remove an installed extension: disables it, rolls back its migrations (unless <code>--keep-data</code>), deletes files, and updates the manifest.</li><li><strong><code>notur:enable</code> / <code>notur:disable</code> commands</strong> -- Toggle extensions on/off without removing files or data. Dispatches <code>ExtensionEnabled</code> / <code>ExtensionDisabled</code> events and clears the cache.</li><li><strong><code>notur:update</code> command</strong> -- Check for and install extension updates from the registry. Supports <code>--check</code> for dry-run mode and updating individual or all extensions.</li><li><strong><code>MigrationManager</code> integration testing</strong> -- Per-extension migration tracking via the <code>notur_migrations</code> table. Verified migrate/rollback against real database.</li><li><strong><code>PermissionBroker</code> enforcement</strong> -- Middleware-level permission checks on extension routes based on the permissions declared in <code>extension.yaml</code>.</li></ul><hr><h2 id="phase-1-core-architecture" tabindex="-1">Phase 1: Core Architecture <a class="header-anchor" href="#phase-1-core-architecture" aria-label="Permalink to &quot;Phase 1: Core Architecture&quot;">​</a></h2><h3 id="added-4" tabindex="-1">Added <a class="header-anchor" href="#added-4" aria-label="Permalink to &quot;Added&quot;">​</a></h3><ul><li><strong><code>NoturServiceProvider</code></strong> -- Laravel service provider: loads config, registers migrations/views/routes, registers artisan commands, boots the <code>ExtensionManager</code>.</li><li><strong><code>ExtensionManager</code></strong> -- Core extension lifecycle: reads <code>extensions.json</code>, loads manifests, resolves dependencies via topological sort (<code>DependencyResolver</code>), registers PSR-4 autoloading, boots extensions.</li><li><strong>Extension contracts</strong> -- Eight PHP interfaces: <code>ExtensionInterface</code>, <code>HasRoutes</code>, <code>HasMigrations</code>, <code>HasCommands</code>, <code>HasMiddleware</code>, <code>HasEventListeners</code>, <code>HasBladeViews</code>, <code>HasFrontendSlots</code>.</li><li><strong>Database schema</strong> -- Three tables: <code>notur_extensions</code> (installed extensions), <code>notur_migrations</code> (per-extension migration tracking), <code>notur_settings</code> (key-value settings).</li><li><strong>Installer</strong> -- <code>installer/install.sh</code> script for automated Notur setup. Validates prerequisites, installs via Composer, applies 4 React patches, injects Blade include, runs migrations, builds bridge.</li><li><strong>React patches</strong> -- Four patches for Pterodactyl v1.11: <code>routes.ts</code> (dynamic route merging), <code>ServerRouter.tsx</code> (server slots), <code>DashboardRouter.tsx</code> (dashboard slots), <code>NavigationBar.tsx</code> (navbar slot).</li><li><strong>Bridge runtime</strong> -- TypeScript bridge (<code>bridge/src/</code>): <code>PluginRegistry</code>, <code>SlotRenderer</code> (React portal-based), event system, and global <code>window.__NOTUR__</code> API.</li><li><strong>Hello-world example</strong> -- Minimal reference extension (<code>examples/hello-world/</code>) demonstrating PHP entrypoint, API routes, frontend bundle, and slot registration.</li><li><strong>CI pipeline</strong> -- GitHub Actions workflow for PHP tests (8.2/8.3), frontend builds, and patch validation.</li><li><strong><code>notur:list</code> command</strong> -- List installed extensions with status table.</li><li><strong><code>notur:dev</code> command</strong> -- Symlink-based development mode for local extension testing.</li><li><strong><code>notur:build</code> command</strong> -- Build extension frontend assets.</li><li><strong>Scoped namespacing</strong> -- Routes, permissions, migrations, config, and frontend bundles are all namespaced per-extension to prevent collisions.</li></ul>',23)])])}const m=o(r,[["render",a]]);export{u as __pageData,m as default};
